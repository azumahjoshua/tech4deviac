pipeline {
    agent any

    stages {
        // Verify installed tools
        stage('Verify Tools') {
            steps {
                script {
                    // Check Node.js and npm
                    try {
                        sh 'node -v'
                        sh 'npm -v'
                    } catch (Exception e) {
                        error("Node.js or npm is not installed. Error: ${e}")
                    }

                    // Check Go
                    try {
                        sh 'go version'
                    } catch (Exception e) {
                        error("Go is not installed. Error: ${e}")
                    }

                    // Check Python
                    try {
                        sh 'python3 --version'
                    } catch (Exception e) {
                        error("Python3 is not installed. Error: ${e}")
                    }

                    // Check Flake8
                    try {
                        sh 'flake8 --version'
                    } catch (Exception e) {
                        error("Flake8 is not installed. Error: ${e}")
                    }

                    // Check Docker
                    try {
                        sh 'docker --version'
                    } catch (Exception e) {
                        error("Docker is not installed. Error: ${e}")
                    }
                }
            }
        }

        stage('Checkout') {
            steps {
                checkout scm
            }
        }

        // Uncomment other stages as needed
        // stage('Lint and Format Check') { ... }
        // stage('Test') { ... }
        // stage('Build Docker Images') { ... }
        // stage('Push Images to DockerHub') { ... }
    }

    // Uncomment post block as needed
    // post { ... }
}